<td class="actions">
  {{#if password}}
    <button 
      class="action password" 
      disabled 
      title="Password Protected"
    >
      {{> icons/key}}
    </button>
  {{/if}}
  
  {{#if banned}}
    <button 
      class="action banned" 
      disabled 
      title="Banned"
    >
      {{> icons/stop}}
    </button>
  {{/if}}

  <a
    class="button action stats"
    href="/stats?id={{id}}"
    title="View Stats"
  >
    {{> icons/chart}}
  </a>

  <button
    class="action qrcode"
    title="Show QR Code"
    hx-on:click="handleQRCode(this, 'link-dialog')"
    data-url="{{link.url}}"
  >
    {{> icons/qrcode}}
  </button>

  <button 
    class="action edit"
    title="Edit Link"
    hx-trigger="click queue:none"
    hx-ext="path-params"
    hx-get="/link/edit/{id}" 
    hx-vals='{"id":"{{id}}"}'
    hx-swap="beforeend"
    hx-target="next tr.edit"
    hx-indicator="next tr.edit"
    hx-sync="this:drop"
    hx-on::before-request="
      const tr = event.detail.target;
      tr.classList.add('show');
      if (tr.querySelector('.content')) {
        event.preventDefault();
        tr.classList.remove('show');
        tr.removeChild(tr.querySelector('.content'));
      }
    "
  >
    {{> icons/pencil}}
  </button>

  <button 
    class="action delete" 
    title="Delete Link"
    hx-on:click='openDialog("link-dialog")' 
    hx-get="/confirm-link-delete" 
    hx-target="#link-dialog .content-wrapper" 
    hx-indicator="#link-dialog" 
    hx-vals='{"id":"{{id}}"}'
  >
    {{> icons/trash}}
  </button>
</td>
